/* ========================================
   ANIMATIONS.CSS — Glitch Effects, Transitions & Overlays
   ======================================== */

/* ─── Page noise texture overlay ──────── */
body::before {
    content: '';
    position: fixed;
    inset: 0;
    z-index: 9999;
    pointer-events: none;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.03'/%3E%3C/svg%3E");
    opacity: 0.018;
}

/* ─── Scanline overlay on hero ─────────── */
#hero::before {
    content: '';
    position: absolute;
    inset: 0;
    z-index: 1;
    pointer-events: none;
    background: repeating-linear-gradient(0deg,
            transparent,
            transparent 2px,
            rgba(0, 200, 255, 0.012) 2px,
            rgba(0, 200, 255, 0.012) 4px);
    animation: scanlines-move 8s linear infinite;
}

@keyframes scanlines-move {
    from {
        background-position: 0 0;
    }

    to {
        background-position: 0 100px;
    }
}

/* ─── GLITCH TEXT ─────────────────────── */
/* Add class="glitch" data-text="Your Text" to any element */
.glitch {
    position: relative;
    color: #f0f0f5;
}

.glitch::before,
.glitch::after {
    content: attr(data-text);
    position: absolute;
    inset: 0;
    pointer-events: none;
}

.glitch::before {
    left: 2px;
    color: #00c8ff;
    clip-path: polygon(0 15%, 100% 15%, 100% 30%, 0 30%);
    animation: glitch-before 3s infinite linear;
    opacity: 0.8;
}

.glitch::after {
    left: -2px;
    color: #8b5cf6;
    clip-path: polygon(0 65%, 100% 65%, 100% 80%, 0 80%);
    animation: glitch-after 3s infinite linear;
    opacity: 0.8;
}

@keyframes glitch-before {
    0% {
        clip-path: polygon(0 2%, 100% 2%, 100% 5%, 0 5%);
        transform: translate(-2px, 0);
    }

    10% {
        clip-path: polygon(0 15%, 100% 15%, 100% 18%, 0 18%);
        transform: translate(2px, 0);
    }

    20% {
        clip-path: polygon(0 35%, 100% 35%, 100% 38%, 0 38%);
        transform: translate(-1px, 0);
    }

    30% {
        clip-path: polygon(0 55%, 100% 55%, 100% 58%, 0 58%);
        transform: translate(1px, 0);
    }

    40% {
        clip-path: polygon(0 70%, 100% 70%, 100% 74%, 0 74%);
        transform: translate(-2px, 0);
    }

    50% {
        clip-path: polygon(0 85%, 100% 85%, 100% 90%, 0 90%);
        transform: translate(2px, 0);
    }

    60% {
        clip-path: polygon(0 92%, 100% 92%, 100% 96%, 0 96%);
        transform: translate(-1px, 0);
    }

    70% {
        clip-path: polygon(0 20%, 100% 20%, 100% 25%, 0 25%);
        transform: translate(2px, 0);
    }

    80% {
        clip-path: polygon(0 40%, 100% 40%, 100% 42%, 0 42%);
        transform: translate(-2px, 0);
    }

    90% {
        clip-path: polygon(0 60%, 100% 60%, 100% 63%, 0 63%);
        transform: translate(1px, 0);
    }

    100% {
        clip-path: polygon(0 2%, 100% 2%, 100% 5%, 0 5%);
        transform: translate(-2px, 0);
    }
}

@keyframes glitch-after {
    0% {
        clip-path: polygon(0 68%, 100% 68%, 100% 72%, 0 72%);
        transform: translate(2px, 0);
    }

    10% {
        clip-path: polygon(0 12%, 100% 12%, 100% 16%, 0 16%);
        transform: translate(-2px, 0);
    }

    20% {
        clip-path: polygon(0 46%, 100% 46%, 100% 50%, 0 50%);
        transform: translate(2px, 0);
    }

    30% {
        clip-path: polygon(0 78%, 100% 78%, 100% 82%, 0 82%);
        transform: translate(-1px, 0);
    }

    40% {
        clip-path: polygon(0 28%, 100% 28%, 100% 33%, 0 33%);
        transform: translate(1px, 0);
    }

    50% {
        clip-path: polygon(0 58%, 100% 58%, 100% 62%, 0 62%);
        transform: translate(-2px, 0);
    }

    60% {
        clip-path: polygon(0 88%, 100% 88%, 100% 92%, 0 92%);
        transform: translate(2px, 0);
    }

    70% {
        clip-path: polygon(0 4%, 100% 4%, 100% 8%, 0 8%);
        transform: translate(-2px, 0);
    }

    80% {
        clip-path: polygon(0 38%, 100% 38%, 100% 42%, 0 42%);
        transform: translate(1px, 0);
    }

    90% {
        clip-path: polygon(0 62%, 100% 62%, 100% 66%, 0 66%);
        transform: translate(-1px, 0);
    }

    100% {
        clip-path: polygon(0 68%, 100% 68%, 100% 72%, 0 72%);
        transform: translate(2px, 0);
    }
}

/* ─── NAV BRAND GLITCH on hover ────────── */
.nav-brand {
    position: relative;
}

.nav-brand::before,
.nav-brand::after {
    content: attr(data-text);
    position: absolute;
    inset: 0;
    pointer-events: none;
    opacity: 0;
    background: linear-gradient(135deg, #00c8ff, #8b5cf6);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    transition: opacity 0.1s;
}

.nav-brand:hover::before {
    left: 2px;
    opacity: 1;
    animation: nav-glitch 0.3s steps(2) both;
}

.nav-brand:hover::after {
    left: -2px;
    opacity: 1;
    animation: nav-glitch 0.3s steps(2) 0.05s both;
}

@keyframes nav-glitch {
    0% {
        clip-path: inset(0 0 80% 0);
    }

    25% {
        clip-path: inset(40% 0 40% 0);
    }

    50% {
        clip-path: inset(20% 0 60% 0);
    }

    75% {
        clip-path: inset(60% 0 20% 0);
    }

    100% {
        clip-path: inset(0 0 0 0);
        opacity: 0;
    }
}

/* ─── SECTION LABEL scramble base ─────── */
.section-label {
    position: relative;
    display: inline-block;
}

/* ─── Glitch flash on reveal ───────────── */
@keyframes glitch-flash {
    0% {
        opacity: 1;
        filter: brightness(1);
    }

    10% {
        opacity: 0.6;
        filter: brightness(2) hue-rotate(90deg);
        transform: translateX(3px);
    }

    20% {
        opacity: 1;
        filter: brightness(1);
        transform: translateX(0);
    }

    30% {
        opacity: 0.8;
        filter: brightness(1.5) hue-rotate(-60deg);
        transform: translateX(-2px);
    }

    40% {
        opacity: 1;
        filter: brightness(1);
        transform: translateX(0);
    }

    100% {
        opacity: 1;
        filter: brightness(1);
    }
}

.glitch-flash {
    animation: glitch-flash 0.4s ease forwards;
}

/* ─── Horizontal glitch bar swipe ─────── */
@keyframes glitch-bar {
    0% {
        transform: translateX(-100%);
        opacity: 1;
    }

    70% {
        transform: translateX(100%);
        opacity: 1;
    }

    100% {
        transform: translateX(100%);
        opacity: 0;
    }
}

.glitch-bar {
    position: absolute;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, transparent, #00c8ff, #8b5cf6, transparent);
    pointer-events: none;
    animation: glitch-bar 0.6s ease forwards;
}

/* ─── GSAP reveal helpers ──────────────── */
.reveal-hidden {
    opacity: 0;
    transform: translateY(40px);
}

.reveal-left {
    opacity: 0;
    transform: translateX(-50px);
}

.reveal-right {
    opacity: 0;
    transform: translateX(50px);
}

.reveal-scale {
    opacity: 0;
    transform: scale(0.88);
}

/* ─── Animated border gradient ─────────── */
@keyframes border-spin {
    to {
        --angle: 360deg;
    }
}

@property --angle {
    syntax: '<angle>';
    initial-value: 0deg;
    inherits: false;
}

.animated-border {
    border: 1px solid transparent;
    background:
        linear-gradient(#0f0f1c, #0f0f1c) padding-box,
        conic-gradient(from var(--angle), #00c8ff, #8b5cf6, #00c8ff) border-box;
    animation: border-spin 3s linear infinite;
}

/* ─── Cursor ring ──────────────────────── */
.cursor-dot {
    width: 6px;
    height: 6px;
    background: #00c8ff;
    border-radius: 50%;
    position: fixed;
    pointer-events: none;
    z-index: 10000;
    top: 0;
    left: 0;
    transform: translate(-50%, -50%);
    box-shadow: 0 0 8px #00c8ff;
    transition: width 0.2s, height 0.2s, background 0.2s;
}

.cursor-ring {
    width: 28px;
    height: 28px;
    border: 1.5px solid rgba(0, 200, 255, 0.5);
    border-radius: 50%;
    position: fixed;
    pointer-events: none;
    z-index: 10000;
    top: 0;
    left: 0;
    transform: translate(-50%, -50%);
    transition: border-color 0.3s;
}

/* ─── Number counter shimmer ───────────── */
.stat-number {
    position: relative;
    display: inline-block;
}

.stat-number::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 100%;
    height: 1px;
    background: linear-gradient(90deg, #00c8ff, #8b5cf6);
    transform: scaleX(0);
    transform-origin: left;
    transition: transform 0.6s ease;
}

.stat-number.counted::after {
    transform: scaleX(1);
}

/* ─── Section transition: wipe line ────── */
.section-divider-line {
    height: 2px;
    width: 0;
    border-radius: 2px;
    background: linear-gradient(90deg, #00c8ff, #8b5cf6);
    margin-bottom: 20px;
    box-shadow: 0 0 14px rgba(0, 200, 255, 0.5),
        0 0 28px rgba(139, 92, 246, 0.3);
    position: relative;
    overflow: visible;
}

/* Glow dot at the end of the line */
.section-divider-line::after {
    content: '';
    position: absolute;
    right: -4px;
    top: 50%;
    transform: translateY(-50%);
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: #00c8ff;
    box-shadow: 0 0 12px #00c8ff, 0 0 24px rgba(0, 200, 255, 0.5);
}

/* ─── Typing cursor ────────────────────── */
.typing-cursor {
    display: inline-block;
    width: 2px;
    height: 1em;
    background: #00c8ff;
    margin-left: 2px;
    vertical-align: text-bottom;
    animation: cursor-blink 0.8s step-end infinite;
    box-shadow: 0 0 8px #00c8ff;
}

@keyframes cursor-blink {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0;
    }
}

/* ─── Page transition overlay ───────────── */
#page-transition {
    position: fixed;
    inset: 0;
    z-index: 9998;
    background: linear-gradient(135deg, #00c8ff, #8b5cf6);
    transform: scaleY(0);
    transform-origin: bottom;
    pointer-events: none;
}